# 設計フェーズ

## フェーズの目的

本フェーズでは、要件定義に基づいて統合IT運用システムの詳細な設計を行い、各システム間の連携方式を確立します。

## 主要タスク

### 1. アーキテクチャ設計
- ID・認証基盤設計
  - Active Directory設計
    - ドメイン構造
    - OUツリー設計
    - グループポリシー設計
  - Microsoft Entra ID連携
    - Azure AD Connect設定
    - 同期ルール設計
    - ハイブリッド認証フロー
  - 認証方式設計
    - SSO実装設計
    - MFA構成設計
    - 条件付きアクセス設計

- クラウドサービス統合設計
  - Exchange Online設計
    - メールフロー設計
    - アーカイブ設計
    - スパム対策設計
  - Microsoft 365連携
    - Teams構成設計
    - OneDrive設定設計
    - SharePoint設計
  - DeskNet's Neo統合
    - SSO連携設計
    - ユーザー同期設計
    - ワークフロー設計

- オンプレミス連携設計
  - ファイルサーバ設計
    - 共有フォルダ構造
    - アクセス権設計
    - バックアップ設計
  - DirectCloud連携
    - バックアップ設計
    - リストア手順設計
    - 監視設計

- セキュリティ統合設計
  - TrendMicro Apex One
    - 配信サーバー設計
    - ポリシー設計
    - 監視設計
  - Carbon Black
    - エージェント展開設計
    - ポリシー設計
    - アラート設定設計
  - 統合ログ管理
    - ログ収集設計
    - SIEM連携設計
    - アラート統合設計

### 2. 運用プロセス設計
- 監視プロセス
  - 監視項目定義
    - システム死活監視
    - パフォーマンス監視
    - セキュリティ監視
  - アラートルール設計
    - 重要度定義
    - 通知ルート設計
    - エスカレーション設計
  - 定期点検設計
    - 点検項目設定
    - 実施スケジュール
    - 報告フロー

- インシデント管理
  - 対応フロー設計
    - 一次対応手順
    - エスカレーション基準
    - 報告ルート
  - 記録管理設計
    - チケット管理設計
    - 対応履歴管理
    - ナレッジベース設計

- 変更管理プロセス
  - 申請フロー設計
    - 承認ルート設計
    - 影響度評価手順
    - 実施判断基準
  - 実施手順設計
    - バックアップ手順
    - 作業手順
    - 検証手順

### 3. ツール・技術選定
- 監視ツール
  - SIEM製品選定
  - 統合監視ツール選定
  - ログ分析ツール選定
- 運用自動化ツール
  - Orchestrationツール選定
  - スクリプト言語選定
  - 自動化範囲定義

## 成果物

1. システムアーキテクチャ設計書
2. 運用プロセス設計書
3. セキュリティ設計書
4. 統合監視設計書
5. ツール選定報告書

## Cline/RooCode用プロンプト作成のポイント

### プロンプトの基本構造
```markdown
# 設計フェーズのプロンプト

## アーキテクチャ概要
[システム構成と連携方式]

## 設計詳細
[具体的な設計内容]

## 制約事項
[技術的制約と対応方針]

## 期待される出力
[設計ドキュメントの内容]
```

### プロンプト作成時の注意点
1. システム間の依存関係を明確化
2. セキュリティ設計を詳細に記述
3. 運用手順を具体的に記載
4. スケーラビリティを考慮

## 次フェーズへの引き継ぎ
- 設計書に基づく実装手順の策定
- 構成管理の基準設定
- テスト計画への反映事項

## 関連ドキュメント
- アーキテクチャ設計テンプレート
- 運用プロセス設計書
- セキュリティ設計ガイド
- 監視設計テンプレート
- 外部システム連携仕様書.md