{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T07:47:29.719Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T07:47:29.723Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:47:30Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200 Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 Timestamp: 2025-02-28 07:47:30Z - Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 - Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200","message":"認証検証エラー"},"error":{"message":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:47:30Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200 Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 Timestamp: 2025-02-28 07:47:30Z - Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 - Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200","name":"Error","stack":"AuthenticationRequiredError: invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:47:30Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200 Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 Timestamp: 2025-02-28 07:47:30Z - Correlation ID: 50ac3378-ad28-4f11-ab82-068f3c82a0c0 - Trace ID: 7ff2fadc-46eb-49cf-bab2-494b749f0200\n    at MsalClientSecret.handleError (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:470:16)\n    at MsalClientSecret.doGetToken (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:3210:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)"},"timestamp":"2025-02-28T07:47:30.092Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"メール送信権限の検証に失敗しました","message":"Graph Client初期化エラー"},"error":{"message":"メール送信権限の検証に失敗しました","name":"Error","stack":"Error: メール送信権限の検証に失敗しました\n    at NotificationService.validateAuth (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:68:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:41:13)"},"timestamp":"2025-02-28T07:47:30.093Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:48:29.732Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:48:29.734Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:526:9)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:49:29.747Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:526:9)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:49:29.749Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:50:29.758Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:50:29.760Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:51:29.768Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:51:29.770Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:52:29.769Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:52:29.770Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:53:29.779Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:53:29.780Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:54:29.782Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:54:29.786Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:55:29.789Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:55:29.789Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:56:29.801Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:56:29.802Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:57:29.803Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T07:57:29.804Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T07:59:24.088Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T07:59:24.091Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:59:24Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600 Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d Timestamp: 2025-02-28 07:59:24Z - Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d - Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600","message":"認証検証エラー"},"error":{"message":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:59:24Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600 Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d Timestamp: 2025-02-28 07:59:24Z - Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d - Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600","name":"Error","stack":"AuthenticationRequiredError: invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 07:59:24Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600 Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d Timestamp: 2025-02-28 07:59:24Z - Correlation ID: f79238f1-f13b-4506-a3ac-9007671fb01d - Trace ID: 50326622-eb67-4349-acfb-a9c5d4a38600\n    at MsalClientSecret.handleError (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:470:16)\n    at MsalClientSecret.doGetToken (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:3210:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)"},"timestamp":"2025-02-28T07:59:24.480Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"メール送信権限の検証に失敗しました","message":"Graph Client初期化エラー"},"error":{"message":"メール送信権限の検証に失敗しました","name":"Error","stack":"Error: メール送信権限の検証に失敗しました\n    at NotificationService.validateAuth (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:68:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:41:13)"},"timestamp":"2025-02-28T07:59:24.482Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T08:00:24.104Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at async Timeout.monitor [as _onTimeout] (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)"},"timestamp":"2025-02-28T08:00:24.106Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"異常検知に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T08:03:34.914Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"SecurityMonitor","message":"定期監視処理に失敗"},"error":{"message":"rows.forEach is not a function","name":"TypeError","stack":"TypeError: rows.forEach is not a function\n    at SecurityMonitorService.checkForAnomalies (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:171:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async monitor (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:81:17)\n    at async SecurityMonitorService.startMonitoring (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\securityMonitorService.js:90:9)"},"timestamp":"2025-02-28T08:03:34.919Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 08:03:35Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500 Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 Timestamp: 2025-02-28 08:03:35Z - Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 - Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500","message":"認証検証エラー"},"error":{"message":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 08:03:35Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500 Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 Timestamp: 2025-02-28 08:03:35Z - Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 - Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500","name":"Error","stack":"AuthenticationRequiredError: invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 08:03:35Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500 Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 Timestamp: 2025-02-28 08:03:35Z - Correlation ID: 3691754d-762b-48f4-94b1-ffdf0c5c1f12 - Trace ID: 275612bc-dafa-4c0f-94c0-2857610f9500\n    at MsalClientSecret.handleError (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:470:16)\n    at MsalClientSecret.doGetToken (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:3210:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)"},"timestamp":"2025-02-28T08:03:35.203Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"メール送信権限の検証に失敗しました","message":"Graph Client初期化エラー"},"error":{"message":"メール送信権限の検証に失敗しました","name":"Error","stack":"Error: メール送信権限の検証に失敗しました\n    at NotificationService.validateAuth (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:68:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:41:13)"},"timestamp":"2025-02-28T08:03:35.205Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"TokenManager","message":"データベース初期化エラー"},"error":{"message":"Cannot read properties of undefined (reading 'exec')","name":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at TokenManager.initialize (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\tokenManager.js:12:21)\n    at Object.<anonymous> (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\index.js:36:33)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)\n    at node:internal/main/run_main_module:36:49"},"timestamp":"2025-02-28T10:42:37.499Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:42:37Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400 Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f Timestamp: 2025-02-28 10:42:37Z - Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f - Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400","message":"Authentication validation failed"},"error":{"message":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:42:37Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400 Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f Timestamp: 2025-02-28 10:42:37Z - Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f - Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400","name":"Error","stack":"AuthenticationRequiredError: invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:42:37Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400 Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f Timestamp: 2025-02-28 10:42:37Z - Correlation ID: 41996c56-fa8d-49e3-9343-58a23741930f - Trace ID: f16ac135-6962-4671-9a29-ddc39aa70400\n    at MsalClientSecret.handleError (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:470:16)\n    at MsalClientSecret.doGetToken (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:3210:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)"},"timestamp":"2025-02-28T10:42:37.932Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"Failed to validate email sending permissions.","message":"Graph Client initialization error"},"error":{"message":"Failed to validate email sending permissions.","name":"Error","stack":"Error: Failed to validate email sending permissions.\n    at NotificationService.validateAuth (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:65:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:43:13)"},"timestamp":"2025-02-28T10:42:37.935Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientInit","message":"Failed to initialize Graph Client during construction"},"error":{"message":"Microsoft Graph authentication initialization failed: Failed to validate email sending permissions.","name":"Error","stack":"Error: Microsoft Graph authentication initialization failed: Failed to validate email sending permissions.\n    at NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"timestamp":"2025-02-28T10:42:37.936Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"TokenManager","message":"データベース初期化エラー"},"error":{"message":"Cannot read properties of undefined (reading 'exec')","name":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at TokenManager.initialize (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\tokenManager.js:12:21)\n    at Object.<anonymous> (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\index.js:36:33)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)\n    at node:internal/main/run_main_module:36:49"},"timestamp":"2025-02-28T10:53:08.704Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:53:09Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00 Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 Timestamp: 2025-02-28 10:53:09Z - Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 - Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00","message":"Authentication validation failed"},"error":{"message":"invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:53:09Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00 Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 Timestamp: 2025-02-28 10:53:09Z - Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 - Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00","name":"Error","stack":"AuthenticationRequiredError: invalid_request: Error(s): 900023 - Timestamp: 2025-02-28 10:53:09Z - Description: AADSTS900023: Specified tenant identifier 'your-tenant-id' is neither a valid DNS name, nor a valid external domain. Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00 Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 Timestamp: 2025-02-28 10:53:09Z - Correlation ID: 6bd5a6f6-ee81-444b-9a9a-0164826dcf64 - Trace ID: ccaa9b9e-77b2-4c4b-9bc6-d785dcbe9a00\n    at MsalClientSecret.handleError (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:470:16)\n    at MsalClientSecret.doGetToken (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\identity\\dist\\index.js:3210:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)"},"timestamp":"2025-02-28T10:53:09.056Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientAuth","details":"Failed to validate email sending permissions.","message":"Graph Client initialization error"},"error":{"message":"Failed to validate email sending permissions.","name":"Error","stack":"Error: Failed to validate email sending permissions.\n    at NotificationService.validateAuth (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:65:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:43:13)"},"timestamp":"2025-02-28T10:53:09.058Z","type":"error"}}
{"level":"error","message":"Error","metadata":{"context":{"context":"GraphClientInit","message":"Failed to initialize Graph Client during construction"},"error":{"message":"Microsoft Graph authentication initialization failed: Failed to validate email sending permissions.","name":"Error","stack":"Error: Microsoft Graph authentication initialization failed: Failed to validate email sending permissions.\n    at NotificationService.initializeGraphClient (E:\\IT運用システム\\03_実装\\it-ops-system\\backend\\dist\\services\\notificationService.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"timestamp":"2025-02-28T10:53:09.059Z","type":"error"}}
