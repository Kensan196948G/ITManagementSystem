{"version":3,"file":"doubleAuthorization.js","sourceRoot":"","sources":["../../src/middleware/doubleAuthorization.ts"],"names":[],"mappings":"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"}