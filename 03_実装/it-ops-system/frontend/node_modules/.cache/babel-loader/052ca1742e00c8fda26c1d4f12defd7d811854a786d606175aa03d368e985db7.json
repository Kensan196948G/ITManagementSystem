{"ast":null,"code":"import React from'react';import{List,ListItem,ListItemIcon,ListItemText,ListItemSecondaryAction,IconButton,Chip,Typography,Tooltip,Box,Paper}from'@mui/material';import{Error as ErrorIcon,Warning as WarningIcon,Info as InfoIcon,CheckCircle as SuccessIcon,Done as DoneIcon}from'@mui/icons-material';import{formatDistanceToNow}from'date-fns';import{ja}from'date-fns/locale';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlertList=_ref=>{let{alerts,onAcknowledge}=_ref;const getAlertIcon=type=>{switch(type){case'critical':return/*#__PURE__*/_jsx(ErrorIcon,{sx:{color:'#d32f2f'}});case'error':return/*#__PURE__*/_jsx(ErrorIcon,{sx:{color:'#f44336'}});case'warning':return/*#__PURE__*/_jsx(WarningIcon,{sx:{color:'#ff9800'}});case'info':return/*#__PURE__*/_jsx(InfoIcon,{sx:{color:'#2196f3'}});default:return/*#__PURE__*/_jsx(InfoIcon,{sx:{color:'#757575'}});}};const getAlertColor=type=>{switch(type){case'critical':case'error':return'error';case'warning':return'warning';case'info':return'info';default:return'default';}};const formatTimestamp=date=>{return formatDistanceToNow(new Date(date),{addSuffix:true,locale:ja});};if(alerts.length===0){return/*#__PURE__*/_jsxs(Paper,{elevation:0,sx:{p:2,textAlign:'center',backgroundColor:'rgba(76, 175, 80, 0.1)',borderRadius:1},children:[/*#__PURE__*/_jsx(SuccessIcon,{sx:{color:'#4caf50',fontSize:40,mb:1}}),/*#__PURE__*/_jsx(Typography,{children:\"\\u30A2\\u30AF\\u30C6\\u30A3\\u30D6\\u306A\\u30A2\\u30E9\\u30FC\\u30C8\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\"})]});}return/*#__PURE__*/_jsx(List,{sx:{width:'100%',bgcolor:'background.paper',borderRadius:1},children:alerts.map(alert=>/*#__PURE__*/_jsxs(ListItem,{divider:true,sx:{bgcolor:alert.acknowledged?'action.hover':'inherit',opacity:alert.acknowledged?0.7:1,transition:'all 0.2s ease','&:hover':{bgcolor:'action.selected'}},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:getAlertIcon(alert.type)}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"span\",sx:{flex:1},children:alert.message}),/*#__PURE__*/_jsx(Chip,{size:\"small\",label:alert.type.toUpperCase(),color:getAlertColor(alert.type),sx:{minWidth:70,fontWeight:'bold'}})]}),secondary:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",component:\"div\",sx:{color:'text.secondary'},children:[\"\\u30BD\\u30FC\\u30B9: \",alert.source]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"div\",sx:{color:'text.secondary'},children:formatTimestamp(alert.timestamp)}),alert.acknowledged&&/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",component:\"div\",sx:{color:'success.main'},children:[\"\\u78BA\\u8A8D\\u8005: \",alert.acknowledgedBy,\" (\",formatTimestamp(alert.acknowledgedAt),\")\"]})]})}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:!alert.acknowledged&&onAcknowledge&&/*#__PURE__*/_jsx(Tooltip,{title:\"\\u30A2\\u30E9\\u30FC\\u30C8\\u3092\\u78BA\\u8A8D\\u6E08\\u307F\\u306B\\u3059\\u308B\",children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"acknowledge\",onClick:()=>onAcknowledge(alert.id),sx:{color:'primary.main','&:hover':{bgcolor:'primary.light',color:'primary.dark'}},children:/*#__PURE__*/_jsx(DoneIcon,{})})})})]},alert.id))});};export default AlertList;","map":{"version":3,"names":["React","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","IconButton","Chip","Typography","Tooltip","Box","Paper","Error","ErrorIcon","Warning","WarningIcon","Info","InfoIcon","CheckCircle","SuccessIcon","Done","DoneIcon","formatDistanceToNow","ja","jsx","_jsx","jsxs","_jsxs","AlertList","_ref","alerts","onAcknowledge","getAlertIcon","type","sx","color","getAlertColor","formatTimestamp","date","Date","addSuffix","locale","length","elevation","p","textAlign","backgroundColor","borderRadius","children","fontSize","mb","width","bgcolor","map","alert","divider","acknowledged","opacity","transition","primary","display","alignItems","gap","variant","component","flex","message","size","label","toUpperCase","minWidth","fontWeight","secondary","Fragment","source","timestamp","acknowledgedBy","acknowledgedAt","title","edge","onClick","id"],"sources":["E:/IT運用システム/03_実装/it-ops-system/frontend/src/components/dashboard/AlertList.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Chip,\r\n  Typography,\r\n  Tooltip,\r\n  Box,\r\n  Paper,\r\n} from '@mui/material';\r\nimport {\r\n  Error as ErrorIcon,\r\n  Warning as WarningIcon,\r\n  Info as InfoIcon,\r\n  CheckCircle as SuccessIcon,\r\n  Done as DoneIcon,\r\n} from '@mui/icons-material';\r\nimport { Alert } from '../../types/api';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ja } from 'date-fns/locale';\r\n\r\ninterface AlertListProps {\r\n  alerts: Alert[];\r\n  onAcknowledge?: (alertId: string) => void;\r\n}\r\n\r\nconst AlertList: React.FC<AlertListProps> = ({ alerts, onAcknowledge }) => {\r\n  const getAlertIcon = (type: Alert['type']) => {\r\n    switch (type) {\r\n      case 'critical':\r\n        return <ErrorIcon sx={{ color: '#d32f2f' }} />;\r\n      case 'error':\r\n        return <ErrorIcon sx={{ color: '#f44336' }} />;\r\n      case 'warning':\r\n        return <WarningIcon sx={{ color: '#ff9800' }} />;\r\n      case 'info':\r\n        return <InfoIcon sx={{ color: '#2196f3' }} />;\r\n      default:\r\n        return <InfoIcon sx={{ color: '#757575' }} />;\r\n    }\r\n  };\r\n\r\n  const getAlertColor = (type: Alert['type']): \"error\" | \"warning\" | \"info\" | \"success\" | \"default\" => {\r\n    switch (type) {\r\n      case 'critical':\r\n      case 'error':\r\n        return 'error';\r\n      case 'warning':\r\n        return 'warning';\r\n      case 'info':\r\n        return 'info';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (date: Date) => {\r\n    return formatDistanceToNow(new Date(date), {\r\n      addSuffix: true,\r\n      locale: ja,\r\n    });\r\n  };\r\n\r\n  if (alerts.length === 0) {\r\n    return (\r\n      <Paper \r\n        elevation={0} \r\n        sx={{ \r\n          p: 2, \r\n          textAlign: 'center',\r\n          backgroundColor: 'rgba(76, 175, 80, 0.1)',\r\n          borderRadius: 1\r\n        }}\r\n      >\r\n        <SuccessIcon sx={{ color: '#4caf50', fontSize: 40, mb: 1 }} />\r\n        <Typography>アクティブなアラートはありません</Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <List sx={{ width: '100%', bgcolor: 'background.paper', borderRadius: 1 }}>\r\n      {alerts.map((alert) => (\r\n        <ListItem\r\n          key={alert.id}\r\n          divider\r\n          sx={{\r\n            bgcolor: alert.acknowledged ? 'action.hover' : 'inherit',\r\n            opacity: alert.acknowledged ? 0.7 : 1,\r\n            transition: 'all 0.2s ease',\r\n            '&:hover': {\r\n              bgcolor: 'action.selected',\r\n            },\r\n          }}\r\n        >\r\n          <ListItemIcon>{getAlertIcon(alert.type)}</ListItemIcon>\r\n          <ListItemText\r\n            primary={\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                <Typography variant=\"body1\" component=\"span\" sx={{ flex: 1 }}>\r\n                  {alert.message}\r\n                </Typography>\r\n                <Chip\r\n                  size=\"small\"\r\n                  label={alert.type.toUpperCase()}\r\n                  color={getAlertColor(alert.type)}\r\n                  sx={{ \r\n                    minWidth: 70,\r\n                    fontWeight: 'bold',\r\n                  }}\r\n                />\r\n              </Box>\r\n            }\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography variant=\"caption\" component=\"div\" sx={{ color: 'text.secondary' }}>\r\n                  ソース: {alert.source}\r\n                </Typography>\r\n                <Typography variant=\"caption\" component=\"div\" sx={{ color: 'text.secondary' }}>\r\n                  {formatTimestamp(alert.timestamp)}\r\n                </Typography>\r\n                {alert.acknowledged && (\r\n                  <Typography variant=\"caption\" component=\"div\" sx={{ color: 'success.main' }}>\r\n                    確認者: {alert.acknowledgedBy} ({formatTimestamp(alert.acknowledgedAt!)})\r\n                  </Typography>\r\n                )}\r\n              </React.Fragment>\r\n            }\r\n          />\r\n          <ListItemSecondaryAction>\r\n            {!alert.acknowledged && onAcknowledge && (\r\n              <Tooltip title=\"アラートを確認済みにする\">\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"acknowledge\"\r\n                  onClick={() => onAcknowledge(alert.id)}\r\n                  sx={{\r\n                    color: 'primary.main',\r\n                    '&:hover': {\r\n                      bgcolor: 'primary.light',\r\n                      color: 'primary.dark',\r\n                    },\r\n                  }}\r\n                >\r\n                  <DoneIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            )}\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default AlertList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}